<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personality Behaviour Analysis - English</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom CSS for the Inter font */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Red highlight for unanswered questions on submission error */
        .unanswered-question {
            border: 2px solid #ef4444; /* Red border */
            background-color: #fef2f2; /* Light red background */
        }
        /* Subtle highlight for the next question to focus on during filling */
        .next-focus-question {
            border: 2px solid #f97316; /* Orange border */
            background-color: #fff7ed; /* Light orange background */
        }
        /* Style for real-time error message */
        .question-error-message {
            color: #dc2626; /* Red text */
            font-size: 0.875rem; /* text-sm */
            margin-top: 0.5rem;
            text-align: left;
        }
        /* Styles for the custom message box */
        .message-box {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 1rem 2rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            display: none; /* Hidden by default */
            font-weight: bold;
            text-align: center;
        }
        .message-box.success {
            background-color: #d1fae5; /* green-100 */
            color: #065f46; /* green-800 */
            border: 1px solid #34d399; /* green-400 */
        }
        .message-box.error {
            background-color: #fee2e2; /* red-100 */
            color: #991b1b; /* red-800 */
            border: 1px solid #f87171; /* red-400 */
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">
    <!-- Header Section -->
    <header class="bg-white shadow-md py-4">
        <div class="container mx-auto px-4 flex justify-center items-center">
            <!-- Business Logo as Title -->
            <img src="https://i.imgur.com/Zx34Iky.png" alt="Your Business Logo" class="h-24 sm:h-32 md:h-40 w-full object-contain rounded-lg shadow-sm">
        </div>
    </header>

    <!-- Custom Message Box -->
    <div id="messageBox" class="message-box"></div>

    <!-- Main Content Section for the Assessment -->
    <main class="flex-grow container mx-auto px-4 py-8 flex flex-col items-center justify-center">
        <div class="bg-white p-8 rounded-xl shadow-lg w-full max-w-2xl text-center">
            <h1 class="text-4xl md:text-5xl font-extrabold text-gray-800 mb-4 leading-tight">
                Personality Behaviour Analysis
            </h1>
            <h2 class="text-2xl md:text-3xl font-semibold text-indigo-600 mb-6">
                English Version
            </h2>
            <p class="text-lg text-gray-700 mb-8 text-left">
                Welcome to the Personality Behaviour Analysis. Answer each question by choosing the option that best describes you. Each answer contributes to one of the personality preference dimensions. Your responses will help provide insights into your unique personality profile.
            </p>

            <!-- User Information Form -->
            <div class="mb-8 p-6 bg-blue-50 rounded-lg shadow-inner text-left">
                <h3 class="text-xl font-semibold text-blue-800 mb-4">Your Details</h3>
                <div class="mb-4">
                    <label for="userName" class="block text-gray-700 text-sm font-bold mb-2">Your Name:</label>
                    <input type="text" id="userName" name="userName" placeholder="Enter your full name"
                           class="shadow appearance-none border rounded-md w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-indigo-500" required>
                </div>
            </div>

            <!-- Assessment Questions Form -->
            <form id="assessmentForm" class="border-t border-gray-200 pt-8 mt-8 text-left">

                <!-- Question 1 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q1-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">1. When you are stressed, what helps you most?</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q1-a" name="q1" value="A" class="mr-2">
                        <label for="q1-a" class="text-gray-700">A) Talking to friends or family about it</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q1-b" name="q1" value="B" class="mr-2">
                        <label for="q1-b" class="text-gray-700">B) Taking time alone to think and process</label>
                    </div>
                    <div id="q1-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 2 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q2-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">2. At a party or social event:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q2-a" name="q2" value="A" class="mr-2">
                        <label for="q2-a" class="text-gray-700">A) You chat with lots of people and feel energized</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q2-b" name="q2" value="B" class="mr-2">
                        <label for="q2-b" class="text-gray-700">B) You stick with a few people and feel drained after a while</label>
                    </div>
                    <div id="q2-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 3 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q3-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">3. When solving a problem:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q3-a" name="q3" value="A" class="mr-2">
                        <label for="q3-a" class="text-gray-700">A) You think out loud and discuss it with others</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q3-b" name="q3" value="B" class="mr-2">
                        <label for="q3-b" class="text-gray-700">B) You think it through thoroughly before sharing</label>
                    </div>
                    <div id="q3-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 4 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q4-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">4. Your ideal weekend would be:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q4-a" name="q4" value="A" class="mr-2">
                        <label for="q4-a" class="text-gray-700">A) Various activities with friends and family</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q4-b" name="q4" value="B" class="mr-2">
                        <label for="q4-b" class="text-gray-700">B) Quiet time at home with a good book or hobby</label>
                    </div>
                    <div id="q4-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 5 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q5-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">5. When meeting new people:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q5-a" name="q5" value="A" class="mr-2">
                        <label for="q5-a" class="text-gray-700">A) You're comfortable initiating conversation</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q5-b" name="q5" value="B" class="mr-2">
                        <label for="q5-b" class="text-gray-700">B) You prefer them to make the first move</label>
                    </div>
                    <div id="q5-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 6 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q6-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">6. When starting a new project:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q6-a" name="q6" value="A" class="mr-2">
                        <label for="q6-a" class="text-gray-700">A) You begin with concrete steps and practical details</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q6-b" name="q6" value="B" class="mr-2">
                        <label for="q6-b" class="text-gray-700">B) You start with the big picture and possibilities</label>
                    </div>
                    <div id="q6-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 7 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q7-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">7. You prefer instructions that:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q7-a" name="q7" value="A" class="mr-2">
                        <label for="q7-a" class="text-gray-700">A) Are step-by-step and specific</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q7-b" name="q7" value="B" class="mr-2">
                        <label for="q7-b" class="text-gray-700">B) Explain the goal so you can find your own way</label>
                    </div>
                    <div id="q7-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 8 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q8-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">8. When telling a story:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q8-a" name="q8" value="A" class="mr-2">
                        <label for="q8-a" class="text-gray-700">A) You include accurate facts and details</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q8-b" name="q8" value="B" class="mr-2">
                        <label for="q8-b" class="text-gray-700">B) You focus on the meaning and emotional impact</label>
                    </div>
                    <div id="q8-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 9 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q9-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">9. You find it more interesting to talk about:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q9-a" name="q9" value="A" class="mr-2">
                        <label for="q9-a" class="text-gray-700">A) Practical matters and real-life experiences</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q9-b" name="q9" value="B" class="mr-2">
                        <label for="q9-b" class="text-gray-700">B) Ideas, theories, and future possibilities</label>
                    </div>
                    <div id="q9-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 10 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q10-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">10. When making a decision, you usually:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q10-a" name="q10" value="A" class="mr-2">
                        <label for="q10-a" class="text-gray-700">A) Rely on what worked in the past</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q10-b" name="q10" value="B" class="mr-2">
                        <label for="q10-b" class="text-gray-700">B) Explore new and innovative options</label>
                    </div>
                    <div id="q10-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 11 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q11-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">11. When resolving conflict:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q11-a" name="q11" value="A" class="mr-2">
                        <label for="q11-a" class="text-gray-700">A) You focus on facts and logical solutions</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q11-b" name="q11" value="B" class="mr-2">
                        <label for="q11-b" class="text-gray-700">B) You focus on people's feelings and relationships</label>
                    </div>
                    <div id="q11-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 12 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q12-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">12. When making a decision, you prioritize:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q12-a" name="q12" value="A" class="mr-2">
                        <label for="q12-a" class="text-gray-700">A) Objective analysis and consistency</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q12-b" name="q12" value="B" class="mr-2">
                        <label for="q12-b" class="text-gray-700">B) Personal values and impact on people</label>
                    </div>
                    <div id="q12-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 13 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q13-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">13. When giving feedback, you tend to be:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q13-a" name="q13" value="A" class="mr-2">
                        <label for="q13-a" class="text-gray-700">A) Direct and honest, even if it's difficult</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q13-b" name="q13" value="B" class="mr-2">
                        <label for="q13-b" class="text-gray-700">B) Gentle and diplomatic, to protect feelings</label>
                    </div>
                    <div id="q13-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 14 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q14-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">14. You value people who are:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q14-a" name="q14" value="A" class="mr-2">
                        <label for="q14-a" class="text-gray-700">A) Fair and consistent</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q14-b" name="q14" value="B" class="mr-2">
                        <label for="q14-b" class="text-gray-700">B) Empathetic and understanding</label>
                    </div>
                    <div id="q14-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 15 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q15-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">15. In a team environment, you focus on:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q15-a" name="q15" value="A" class="mr-2">
                        <label for="q15-a" class="text-gray-700">A) Efficiency and achieving results</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q15-b" name="q15" value="B" class="mr-2">
                        <label for="q15-b" class="text-gray-700">B) Ensuring everyone feels included and valued</label>
                    </div>
                    <div id="q15-error" class="question-error-message hidden"></div>
                </div>

                <!-- Additional Questions (21-40) -->
                <h3 class="text-2xl font-semibold text-indigo-600 mb-6 mt-10">Part B: Additional Questions (21-40)</h3>

                <!-- Question 21 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q21-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">21. When you have a new idea:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q21-a" name="q21" value="A" class="mr-2">
                        <label for="q21-a" class="text-gray-700">A) You share it immediately with others to get their thoughts</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q21-b" name="q21" value="B" class="mr-2">
                        <label for="q21-b" class="text-gray-700">B) You think it through completely before sharing it</label>
                    </div>
                    <div id="q21-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 22 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q22-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">22. After a long workday:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q22-a" name="q22" value="A" class="mr-2">
                        <label for="q22-a" class="text-gray-700">A) You like to go out with colleagues or friends</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q22-b" name="q22" value="B" class="mr-2">
                        <label for="q22-b" class="text-gray-700">B) You prefer to relax at home and recharge</label>
                    </div>
                    <div id="q22-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 23 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q23-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">23. In a meeting:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q23-a" name="q23" value="A" class="mr-2">
                        <label for="q23-a" class="text-gray-700">A) You speak easily and share your thoughts often</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q23-b" name="q23" value="B" class="mr-2">
                        <label for="q23-b" class="text-gray-700">B) You listen carefully before contributing</label>
                    </div>
                    <div id="q23-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 24 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q24-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">24. When you learn:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q24-a" name="q24" value="A" class="mr-2">
                        <label for="q24-a" class="text-gray-700">A) You prefer group studies and discussions</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q24-b" name="q24" value="B" class="mr-2">
                        <label for="q24-b" class="text-gray-700">B) You prefer to study alone with your own notes</label>
                    </div>
                    <div id="q24-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 25 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q25-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">25. Your ideal birthday would be:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q25-a" name="q25" value="A" class="mr-2">
                        <label for="q25-a" class="text-gray-700">A) A big party with many friends</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q25-b" name="q25" value="B" class="mr-2">
                        <label for="q25-b" class="text-gray-700">B) A quiet celebration with close family/friends</label>
                    </div>
                    <div id="q25-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 26 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q26-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">26. When you read a book:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q26-a" name="q26" value="A" class="mr-2">
                        <label for="q26-a" class="text-gray-700">A) You enjoy detailed descriptions and realistic stories</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q26-b" name="q26" value="B" class="mr-2">
                        <label for="q26-b" class="text-gray-700">B) You prefer symbolic meanings and conceptual ideas</label>
                    </div>
                    <div id="q26-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 27 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q27-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">27. You remember events by:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q27-a" name="q27" value="A" class="mr-2">
                        <label for="q27-a" class="text-gray-700">A) Specific details, places, and exactly what happened</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q27-b" name="q27" value="B" class="mr-2">
                        <label for="q27-b" class="text-gray-700">B) The general impression and how it made you feel</label>
                    </div>
                    <div id="q27-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 28 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q28-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">28. When someone tells you about a problem:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q28-a" name="q28" value="A" class="mr-2">
                        <label for="q28-a" class="text-gray-700">A) You ask for specific facts and circumstances</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q28-b" name="q28" value="B" class="mr-2">
                        <label for="q28-b" class="text-gray-700">B) You try to understand the underlying patterns</label>
                    </div>
                    <div id="q28-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 29 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q29-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">29. Your work style is to:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q29-a" name="q29" value="A" class="mr-2">
                        <label for="q29-a" class="text-gray-700">A) Work methodically with proven techniques</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q29-b" name="q29" value="B" class="mr-2">
                        <label for="q29-b" class="text-gray-700">B) Experiment with new approaches</label>
                    </div>
                    <div id="q29-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 30 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q30-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">30. You value people who are:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q30-a" name="q30" value="A" class="mr-2">
                        <label for="q30-a" class="text-gray-700">A) Practical and reliable</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q30-b" name="q30" value="B" class="mr-2">
                        <label for="q30-b" class="text-gray-700">B) Creative and visionary</label>
                    </div>
                    <div id="q30-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 31 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q31-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">31. When you lead a team:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q31-a" name="q31" value="A" class="mr-2">
                        <label for="q31-a" class="text-gray-700">A) You focus on clear goals and performance</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q31-b" name="q31" value="B" class="mr-2">
                        <label for="q31-b" class="text-gray-700">B) You make sure every team member feels supported</label>
                    </div>
                    <div id="q31-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 32 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q32-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">32. Conflict makes you:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q32-a" name="q32" value="A" class="mr-2">
                        <label for="q32-a" class="text-gray-700">A) Motivated to find the best solution</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q32-b" name="q32" value="B" class="mr-2">
                        <label for="q32-b" class="text-gray-700">B) Uncomfortable because it can harm relationships</label>
                    </div>
                    <div id="q32-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 33 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q33-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">33. You make choices based on:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q33-a" name="q33" value="A" class="mr-2">
                        <label for="q33-a" class="text-gray-700">A) What will be the most logical outcome</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q33-b" name="q33" value="B" class="mr-2">
                        <label for="q33-b" class="text-gray-700">B) What will be best for everyone involved</label>
                    </div>
                    <div id="q33-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 34 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q34-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">34. When you give feedback:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q34-a" name="q34" value="A" class="mr-2">
                        <label for="q34-a" class="text-gray-700">A) You are honest about what needs improvement</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q34-b" name="q34" value="B" class="mr-2">
                        <label for="q34-b" class="text-gray-700">B) You start with positive points before criticism</label>
                    </div>
                    <div id="q34-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 35 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q35-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">35. In a crisis:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q35-a" name="q35" value="A" class="mr-2">
                        <label for="q35-a" class="text-gray-700">A) You stay calm and focus on practical solutions</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q35-b" name="q35" value="B" class="mr-2">
                        <label for="q35-b" class="text-gray-700">B) You first support the people who are affected</label>
                    </div>
                    <div id="q35-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 36 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q36-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">36. Your desk drawer is:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q36-a" name="q36" value="A" class="mr-2">
                        <label for="q36-a" class="text-gray-700">A) Organized with everything in its place</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q36-b" name="q36" value="B" class="mr-2">
                        <label for="q36-b" class="text-gray-700">B) A mix of things you use often</label>
                    </div>
                    <div id="q36-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 37 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q37-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">37. When you go shopping:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q37-a" name="q37" value="A" class="mr-2">
                        <label for="q37-a" class="text-gray-700">A) You make a list and stick to it</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q37-b" name="q37" value="B" class="mr-2">
                        <label for="q37-b" class="text-gray-700">B) You buy what you see and remember what you need</label>
                    </div>
                    <div id="q37-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 38 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q38-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">38. You like rules that are:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q38-a" name="q38" value="A" class="mr-2">
                        <label for="q38-a" class="text-gray-700">A) Clear and consistently applied</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q38-b" name="q38" value="B" class="mr-2">
                        <label for="q38-b" class="text-gray-700">B) Flexible and adapted to the situation</label>
                    </div>
                    <div id="q38-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 39 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q39-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">39. On a normal day:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q39-a" name="q39" value="A" class="mr-2">
                        <label for="q39-a" class="text-gray-700">A) You follow a routine or schedule</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q39-b" name="q39" value="B" class="mr-2">
                        <label for="q39-b" class="text-gray-700">B) You go with the flow and see what happens</label>
                    </div>
                    <div id="q39-error" class="question-error-message hidden"></div>
                </div>

                <!-- Question 40 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q40-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">40. When you have to make a big decision:</p>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q40-a" name="q40" value="A" class="mr-2">
                        <label for="q40-a" class="text-gray-700">A) You make the decision quickly once you have enough information</label>
                    </div>
                    <div class="mb-2 flex items-center">
                        <input type="radio" id="q40-b" name="q40" value="B" class="mr-2">
                        <label for="q40-b" class="text-gray-700">B) You keep your options open for as long as possible</label>
                    </div>
                    <div id="q40-error" class="question-error-message hidden"></div>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50 mt-8">
                    Submit Assessment
                </button>
            </form>

            <!-- Results Display Area - This section will now be permanently hidden -->
            <div id="resultsDisplay" class="hidden bg-blue-50 p-6 rounded-lg shadow-md mt-8 text-center">
                <h3 class="text-2xl font-bold text-blue-800 mb-4">Your Personality Type:</h3>
                <p id="personalityType" class="text-4xl font-extrabold text-indigo-700 mb-4"></p>
                <p id="resultDetails" class="text-lg text-blue-700"></p>
                <div class="mt-6 text-left">
                    <h4 class="text-xl font-semibold text-blue-800 mb-2">Personality Preference Overview:</h4>
                    <p class="text-lg text-blue-700 mb-2"><strong>E/I (Extraversion / Introversion):</strong> How you gain and process energy.</p>
                    <p class="text-lg text-blue-700 mb-2"><strong>S/N (Sensing / Intuition):</strong> How you gather and interpret information.</p>
                    <p class="text-lg text-blue-700 mb-2"><strong>T/F (Thinking / Feeling):</strong> How you make decisions.</p>
                    <p class="text-lg text-blue-700 mb-2"><strong>J/P (Judging / Perceiving):</strong> How you prefer to live your outer life.</p>
                </div>
            </div>

            <!-- Back to Homepage Button -->
            <div class="mt-10">
                <a href="index.html" class="inline-block bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105">
                    Back to Homepage
                </a>
            </div>
        </div>
    </main>

    <!-- Footer Section -->
    <footer class="bg-gray-800 text-white py-6">
        <div class="container mx-auto px-4 text-center">
            <p class="text-sm">&copy; 2025 Your Business. All rights reserved.</p>
        </div>
    </footer>

    <!-- EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        // Initialize EmailJS with your Public Key
        (function() {
            try {
                emailjs.init("Pmd3fgupxDv25ALjZ"); // Your EmailJS Public Key
                console.log("EmailJS initialized successfully.");
            } catch (e) {
                console.error("Error initializing EmailJS:", e);
            }
        })();
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('assessmentForm');
            const userNameInput = document.getElementById('userName');
            const questionBlocks = document.querySelectorAll('.question-block');
            const messageBox = document.getElementById('messageBox');

            // Function to show messages
            function showMessage(message, type) {
                console.log('showMessage called:', message, type);
                messageBox.textContent = message;
                messageBox.className = 'message-box';
                messageBox.classList.add(type);
                messageBox.style.display = 'block';

                setTimeout(() => {
                    messageBox.style.display = 'none';
                    console.log('Message box hidden.');
                }, 5000);
            }

            // Function to validate if a question is answered
            function isQuestionAnswered(questionName) {
                const radios = document.querySelectorAll(`input[name="${questionName}"]:checked`);
                return radios.length > 0;
            }

            // Function to display/hide real-time error message for a specific question
            function updateQuestionError(questionName) {
                const questionNumber = questionName.replace('q', '');
                const errorDiv = document.getElementById(`q${questionNumber}-error`);
                if (!errorDiv) return;

                if (!isQuestionAnswered(questionName)) {
                    errorDiv.textContent = "Please select an answer.";
                    errorDiv.classList.remove('hidden');
                } else {
                    errorDiv.classList.add('hidden');
                    errorDiv.textContent = "";
                }
            }

            // Function to find the next unanswered question and scroll to it, applying subtle highlight
            function findAndScrollToNextUnanswered() {
                questionBlocks.forEach(block => {
                    block.classList.remove('next-focus-question');
                });

                for (let i = 1; i <= 40; i++) { // Changed loop to 40 questions
                    const questionName = `q${i}`;
                    const questionBlock = document.getElementById(`q${i}-block`);
                    if (questionBlock && !isQuestionAnswered(questionName) && !questionBlock.classList.contains('unanswered-question')) {
                        questionBlock.classList.add('next-focus-question');
                        questionBlock.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        updateQuestionError(questionName);
                        return true;
                    }
                }
                return false;
            }

            // Add change event listeners to all radio buttons for real-time validation and scrolling
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.addEventListener('change', (event) => {
                    const questionName = event.target.name;
                    updateQuestionError(questionName);
                    findAndScrollToNextUnanswered();
                });
            });

            form.addEventListener('submit', (event) => {
                event.preventDefault();
                console.log('Form submitted.');

                const userName = userNameInput.value.trim();
                const userEmail = "info@pulsemap.co.za";

                if (!userName) {
                    showMessage("Please enter your name.", "error");
                    userNameInput.focus();
                    return;
                }
                console.log('Name validated.');

                let allQuestionsAnswered = true;
                let firstUnansweredBlock = null;

                questionBlocks.forEach(block => {
                    block.classList.remove('unanswered-question', 'next-focus-question');
                    const questionNumber = block.id.replace('q', '').replace('-block', '');
                    const errorDiv = document.getElementById(`q${questionNumber}-error`);
                    if (errorDiv) {
                        errorDiv.classList.add('hidden');
                        errorDiv.textContent = "";
                    }
                });

                for (let i = 1; i <= 40; i++) { // Changed loop to 40 questions
                    const questionName = `q${i}`;
                    const questionBlock = document.getElementById(`q${i}-block`);
                    if (questionBlock && !isQuestionAnswered(questionName)) {
                        allQuestionsAnswered = false;
                        questionBlock.classList.add('unanswered-question');
                        if (!firstUnansweredBlock) {
                            firstUnansweredBlock = questionBlock;
                        }
                        updateQuestionError(questionName);
                    }
                }

                if (!allQuestionsAnswered) {
                    if (firstUnansweredBlock) {
                        firstUnansweredBlock.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                    showMessage("Please answer all questions before submitting.", "error");
                    return;
                }
                console.log('All questions answered.');

                // Initialize scores for all dimensions
                let eScore = 0, iScore = 0;
                let sScore = 0, nScore = 0;
                let tScore = 0, fScore = 0;
                let jScore = 0, pScore = 0;

                // Define all questions for each dimension (now 10 per dimension)
                const eiQuestions = [1, 2, 3, 4, 5, 21, 22, 23, 24, 25];
                const snQuestions = [6, 7, 8, 9, 10, 26, 27, 28, 29, 30];
                const tfQuestions = [11, 12, 13, 14, 15, 31, 32, 33, 34, 35];
                const jpQuestions = [16, 17, 18, 19, 20, 36, 37, 38, 39, 40];

                // Process each question
                for (let i = 1; i <= 40; i++) {
                    const selectedValue = document.querySelector(`input[name="q${i}"]:checked`);
                    if (!selectedValue) continue; // Skip if question not answered (should be caught by validation)

                    const value = selectedValue.value;

                    if (eiQuestions.includes(i)) {
                        if (value === 'A') eScore++;
                        else if (value === 'B') iScore++;
                    } else if (snQuestions.includes(i)) {
                        if (value === 'A') sScore++;
                        else if (value === 'B') nScore++;
                    } else if (tfQuestions.includes(i)) {
                        if (value === 'A') tScore++;
                        else if (value === 'B') fScore++;
                    } else if (jpQuestions.includes(i)) {
                        if (value === 'A') jScore++;
                        else if (value === 'B') pScore++;
                    }
                }

                // Determine personality type letters
                const ei = eScore >= iScore ? 'E' : 'I'; // Use >= for tie-breaking, default to E
                const sn = sScore >= nScore ? 'S' : 'N'; // default to S
                const tf = tScore >= fScore ? 'T' : 'F'; // default to T
                const jp = jScore >= pScore ? 'J' : 'P'; // default to J

                const personalityType = `${ei}${sn}${tf}${jp}`;

                // Prepare detailed scores HTML for the generic EmailJS template
                const detailedScoresHtml = `
                    <ul>
                        <li><strong>Extraversion (E) / Introversion (I):</strong> E: ${eScore}, I: ${iScore}</li>
                        <li><strong>Sensing (S) / Intuition (N):</strong> S: ${sScore}, N: ${nScore}</li>
                        <li><strong>Thinking (T) / Feeling (F):</strong> T: ${tScore}, F: ${fScore}</li>
                        <li><strong>Judging (J) / Perceiving (P):</strong> J: ${jScore}, P: ${pScore}</li>
                    </ul>
                `;

                const serviceID = 'service_n3for6s';
                const templateID = 'template_kifuzeo';

                const templateParams = {
                    user_name: userName,
                    user_email: userEmail,
                    assessment_name: "Personality Behaviour Analysis",
                    main_result: personalityType,
                    detailed_scores_html: detailedScoresHtml
                };

                console.log('Attempting to send email with params:', templateParams);
                emailjs.send(serviceID, templateID, templateParams)
                    .then(function(response) {
                        console.log('EmailJS SUCCESS!', response.status, response.text);
                        showMessage('Your assessment has been submitted successfully!', 'success');
                        form.reset();
                        userNameInput.value = '';
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    }, function(error) {
                        console.log('EmailJS FAILED...', error);
                        showMessage('Failed to submit assessment. Please try again later.', 'error');
                    });
            });
        });
    </script>
</body>
</html>
