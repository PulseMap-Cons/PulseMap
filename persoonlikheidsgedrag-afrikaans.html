<!DOCTYPE html>
<html lang="af">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Persoonlikheidsgedrag Analise - Afrikaans</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom CSS for the Inter font */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Red highlight for unanswered questions on submission error */
        .unanswered-question {
            border: 2px solid #ef4444; /* Rooi rand */
            background-color: #fef2f2; /* Ligrooi agtergrond */
        }
        /* Subtle highlight for the next question to focus on during filling */
        .next-focus-question {
            border: 2px solid #f97316; /* Oranje rand */
            background-color: #fff7ed; /* Ligoranje agtergrond */
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">
    <!-- Header Section - Reusing the same header structure as index.html -->
    <header class="bg-white shadow-md py-4">
        <div class="container mx-auto px-4 flex justify-center items-center">
            <!-- Business Logo as Title -->
            <img src="https://i.imgur.com/Zx34Iky.png" alt="Jou Besigheidslogo" class="h-24 sm:h-32 md:h-40 w-full object-contain rounded-lg shadow-sm">
        </div>
    </header>

    <!-- Main Content Section for the Assessment -->
    <main class="flex-grow container mx-auto px-4 py-8 flex flex-col items-center justify-center">
        <div class="bg-white p-8 rounded-xl shadow-lg w-full max-w-2xl text-center">
            <h1 class="text-4xl md:text-5xl font-extrabold text-gray-800 mb-4 leading-tight">
                Persoonlikheidsgedrag Analise
            </h1>
            <h2 class="text-2xl md:text-3xl font-semibold text-indigo-600 mb-6">
                Afrikaanse Weergawe
            </h2>
            <p class="text-lg text-gray-700 mb-8 text-left">
                Welkom by die Persoonlikheidsgedrag Analise. Hierdie vraelys is ontwerp om jou te help om jou natuurlike voorkeure en hoe jy met die wÃªreld om jou interaksie het, te verstaan. Antwoord asseblief eerlik, aangesien daar geen regte of verkeerde antwoorde is nie. Jou antwoorde sal waardevolle insigte in jou unieke funksioneringstyl bied.
            </p>

            <!-- Assessment Questions Form -->
            <form id="assessmentForm" class="border-t border-gray-200 pt-8 mt-8 text-left">
                <!-- Question 1 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q1-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">1. Wanneer jy gestres is, wat help jou die meeste?</p>
                    <label class="inline-flex items-center mr-6 mb-2 cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q1" value="A">
                        <span class="ml-2 text-gray-700">A) Praat met vriende of familie daaroor</span>
                    </label>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q1" value="B">
                        <span class="ml-2 text-gray-700">B) Alleen-tyd neem om te dink en te prosesseer</span>
                    </label>
                </div>

                <!-- Question 2 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q2-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">2. Op 'n party of sosiale byeenkoms:</p>
                    <label class="inline-flex items-center mr-6 mb-2 cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q2" value="A">
                        <span class="ml-2 text-gray-700">A) Gesels jy met baie mense en voel gelaai</span>
                    </label>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q2" value="B">
                        <span class="ml-2 text-gray-700">B) Hou jy by 'n paar mense en voel uitgeput na 'n ruk</span>
                    </label>
                </div>

                <!-- Question 3 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q3-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">3. Wanneer jy 'n probleem probeer oplos:</p>
                    <label class="inline-flex items-center mr-6 mb-2 cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q3" value="A">
                        <span class="ml-2 text-gray-700">A) Dink jy hardop en bespreek dit met ander</span>
                    </label>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q3" value="B">
                        <span class="ml-2 text-gray-700">B) Dink jy eers deeglik daaroor voor jy dit deel</span>
                    </label>
                </div>

                <!-- Question 4 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q4-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">4. Jou ideale naweek sou wees:</p>
                    <label class="inline-flex items-center mr-6 mb-2 cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q4" value="A">
                        <span class="ml-2 text-gray-700">A) Verskeie aktiwiteite met vriende en familie</span>
                    </label>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q4" value="B">
                        <span class="ml-2 text-gray-700">B) Rustige tyd tuis met 'n goeie boek of stokperdjie</span>
                    </label>
                </div>

                <!-- Question 5 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q5-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">5. Wanneer jy nuwe mense ontmoet:</p>
                    <label class="inline-flex items-center mr-6 mb-2 cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q5" value="A">
                        <span class="ml-2 text-gray-700">A) Voel jy gemaklik om eerste kontak te maak</span>
                    </label>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q5" value="B">
                        <span class="ml-2 text-gray-700">B) Wag jy liewer dat hulle eerste nader kom</span>
                    </label>
                </div>

                <!-- Question 6 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q6-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">6. Wanneer jy 'n nuwe projek begin:</p>
                    <label class="inline-flex items-center mr-6 mb-2 cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q6" value="A">
                        <span class="ml-2 text-gray-700">A) Begin jy met konkrete stappe en praktiese details</span>
                    </label>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q6" value="B">
                        <span class="ml-2 text-gray-700">B) Begin jy met die groot prentjie en moontlikhede</span>
                    </label>
                </div>

                <!-- Question 7 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q7-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">7. Jy verkies instruksies wat:</p>
                    <label class="inline-flex items-center mr-6 mb-2 cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q7" value="A">
                        <span class="ml-2 text-gray-700">A) Stap-vir-stap en spesifiek is</span>
                    </label>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q7" value="B">
                        <span class="ml-2 text-gray-700">B) Die doel verduidelik sodat jy jou eie weg kan vind</span>
                    </label>
                </div>

                <!-- Question 8 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q8-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">8. Wanneer jy 'n verhaal vertel:</p>
                    <label class="inline-flex items-center mr-6 mb-2 cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q8" value="A">
                        <span class="ml-2 text-gray-700">A) Gee jy akkurate details en feite</span>
                    </label>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q8" value="B">
                        <span class="ml-2 text-gray-700">B) Fokus jy op die betekenis en impak</span>
                    </label>
                </div>

                <!-- Question 9 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q9-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">9. Jy vind dit meer interessant om te praat oor:</p>
                    <label class="inline-flex items-center mr-6 mb-2 cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q9" value="A">
                        <span class="ml-2 text-gray-700">A) Praktiese dinge en werklike ervarings</span>
                    </label>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q9" value="B">
                        <span class="ml-2 text-gray-700">B) Idees, teorieÃ« en toekomsmoontlikhede</span>
                    </label>
                </div>

                <!-- Question 10 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q10-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">10. Wanneer jy 'n besluit moet maak:</p>
                    <label class="inline-flex items-center mr-6 mb-2 cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q10" value="A">
                        <span class="ml-2 text-gray-700">A) Kyk jy na wat in die verlede gewerk het</span>
                    </label>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q10" value="B">
                        <span class="ml-2 text-gray-700">B) Ondersoek jy nuwe en innoverende opsies</span>
                    </label>
                </div>

                <!-- Question 11 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q11-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">11. Wanneer jy 'n dispuut moet oplos:</p>
                    <label class="inline-flex items-center mr-6 mb-2 cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q11" value="A">
                        <span class="ml-2 text-gray-700">A) Fokus jy op feite en logiese oplossings</span>
                    </label>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q11" value="B">
                        <span class="ml-2 text-gray-700">B) Oorweeg jy hoe almal daaroor sal voel</span>
                    </label>
                </div>

                <!-- Question 12 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q12-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">12. Jy maak besluite hoofsaaklik gebaseer op:</p>
                    <label class="inline-flex items-center mr-6 mb-2 cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q12" value="A">
                        <span class="ml-2 text-gray-700">A) Wat logies en effektief is</span>
                    </label>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q12" value="B">
                        <span class="ml-2 text-gray-700">B) Wat in lyn is met jou waardes en ander se behoeftes</span>
                    </label>
                </div>

                <!-- Question 13 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q13-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">13. Wanneer jy kritiek gee:</p>
                    <label class="inline-flex items-center mr-6 mb-2 cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q13" value="A">
                        <span class="ml-2 text-gray-700">A) Is jy reguit en fokus op wat verbeter kan word</span>
                    </label>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q13" value="B">
                        <span class="ml-2 text-gray-700">B) Probeer jy dit sagkens sÃª om nie gevoelens te seer nie</span>
                    </label>
                </div>

                <!-- Question 14 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q14-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">14. Jy waardeer mense wat:</p>
                    <div class="mb-2">
                        <label class="inline-flex items-center cursor-pointer">
                            <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q14" value="A">
                            <span class="ml-2 text-gray-700">A) Regverdig en konsekwent is</span>
                        </label>
                    </div>
                    <div>
                        <label class="inline-flex items-center cursor-pointer">
                            <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q14" value="B">
                            <span class="ml-2 text-gray-700">B) Empaties en verstaan is</span>
                        </label>
                    </div>
                </div>

                <!-- Question 15 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q15-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">15. In 'n spanomgewing:</p>
                    <label class="inline-flex items-center mr-6 mb-2 cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q15" value="A">
                        <span class="ml-2 text-gray-700">A) Fokus jy op doeltreffendheid en resultate</span>
                    </label>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q15" value="B">
                        <span class="ml-2 text-gray-700">B) Maak jy seker almal voel ingesluit en gewaardeer</span>
                    </label>
                </div>

                <!-- Question 16 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q16-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">16. Jou werkruimte is gewoonlik:</p>
                    <label class="inline-flex items-center mr-6 mb-2 cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q16" value="A">
                        <span class="ml-2 text-gray-700">A) Netjies en georganiseer</span>
                    </label>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q16" value="B">
                        <span class="ml-2 text-gray-700">B) 'n Bietjie rommelig maar jy weet waar alles is</span>
                    </label>
                </div>

                <!-- Question 17 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q17-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">17. Wanneer jy vakansie beplan:</p>
                    <label class="inline-flex items-center mr-6 mb-2 cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q17" value="A">
                        <span class="ml-2 text-gray-700">A) Maak jy 'n gedetailleerde roete en besprekings vooraf</span>
                    </label>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q17" value="B">
                        <span class="ml-2 text-gray-700">B) Kyk jy wat gebeur en besluit spontaan</span>
                    </label>
                </div>

                <!-- Question 18 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q18-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">18. Jy verkies om te werk:</p>
                    <label class="inline-flex items-center mr-6 mb-2 cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q18" value="A">
                        <span class="ml-2 text-gray-700">A) Met duidelike sperdatums en strukture</span>
                    </label>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q18" value="B">
                        <span class="ml-2 text-gray-700">B) Met buigsaamheid en oop keuses</span>
                    </label>
                </div>

                <!-- Question 19 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q19-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">19. Wanneer jy 'n taak kry:</p>
                    <label class="inline-flex items-center mr-6 mb-2 cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q19" value="A">
                        <span class="ml-2 text-gray-700">A) Begin jy gou sodat jy betyds kan klaarmaak</span>
                    </label>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q19" value="B">
                        <span class="ml-2 text-gray-700">B) Werk jy die beste onder druk naby die sperdatum</span>
                    </label>
                </div>

                <!-- Question 20 -->
                <div class="question-block mb-6 p-4 bg-gray-50 rounded-lg shadow-sm" id="q20-block">
                    <p class="text-lg font-semibold text-gray-800 mb-3">20. Jy voel meer gemaklik wanneer:</p>
                    <label class="inline-flex items-center mr-6 mb-2 cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q20" value="A">
                        <span class="ml-2 text-gray-700">A) Planne gemaak is en dinge bepaal is</span>
                    </label>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="radio" class="form-radio h-5 w-5 text-indigo-600" name="q20" value="B">
                        <span class="ml-2 text-gray-700">B) Opsies oop gehou word vir verandering</span>
                    </label>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50 mt-8">
                    Dien Analise In
                </button>
            </form>

            <!-- Results Display Area -->
            <div id="resultsDisplay" class="hidden bg-blue-50 p-6 rounded-lg shadow-md mt-8 text-center">
                <h3 class="text-2xl font-bold text-blue-800 mb-4">Jou Persoonlikheidstipe:</h3>
                <p id="personalityType" class="text-4xl font-extrabold text-indigo-700 mb-4"></p>
                <p id="resultDetails" class="text-lg text-blue-700"></p>
            </div>

            <!-- Back to Homepage Button -->
            <div class="mt-10">
                <a href="index.html" class="inline-block bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105">
                    Terug na Tuisblad
                </a>
            </div>
        </div>
    </main>

    <!-- Footer Section - Reusing the same footer structure as index.html -->
    <footer class="bg-gray-800 text-white py-6">
        <div class="container mx-auto px-4 text-center">
            <p class="text-sm">&copy; 2025 Jou Besigheid. Alle regte voorbehou.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('assessmentForm');
            const resultsDisplay = document.getElementById('resultsDisplay');
            const personalityTypeElement = document.getElementById('personalityType');
            const resultDetailsElement = document.getElementById('resultDetails');
            const questionBlocks = document.querySelectorAll('.question-block');

            // Function to find the next unanswered question and scroll to it, applying a subtle highlight
            function findAndScrollToNextUnanswered() {
                // Remove subtle highlight from all questions first
                questionBlocks.forEach(block => {
                    block.classList.remove('next-focus-question');
                });

                for (let i = 1; i <= 20; i++) {
                    const selectedOption = document.querySelector(`input[name="q${i}"]:checked`);
                    const questionBlock = document.getElementById(`q${i}-block`);

                    // If a question is unanswered AND not already highlighted in red (from a submission error)
                    if (!selectedOption && !questionBlock.classList.contains('unanswered-question')) {
                        questionBlock.classList.add('next-focus-question'); // Apply subtle highlight
                        questionBlock.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        return true; // Found and scrolled
                    }
                }
                return false; // No unanswered questions found
            }

            // Function to highlight all unanswered questions in red and scroll to the first one (on submit)
            function highlightAndScrollToUnansweredOnSubmit() {
                let firstUnansweredBlock = null;
                let allAnswered = true;

                // First, remove ALL highlights (both subtle and red)
                questionBlocks.forEach(block => {
                    block.classList.remove('unanswered-question', 'next-focus-question');
                });

                // Iterate through questions to find truly unanswered ones and apply red highlight
                for (let i = 1; i <= 20; i++) {
                    const selectedOption = document.querySelector(`input[name="q${i}"]:checked`);
                    const questionBlock = document.getElementById(`q${i}-block`);

                    if (!selectedOption) {
                        allAnswered = false;
                        questionBlock.classList.add('unanswered-question'); // Add red highlight
                        if (!firstUnansweredBlock) {
                            firstUnansweredBlock = questionBlock; // Mark the first one found
                        }
                    }
                }

                if (!allAnswered) {
                    // If there are unanswered questions, scroll to the first red one
                    if (firstUnansweredBlock) {
                        firstUnansweredBlock.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                    return true; // Indicates unanswered questions exist
                }
                return false; // All questions are answered
            }

            // Add change event listeners to all radio buttons for real-time scrolling and subtle highlight
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.addEventListener('change', () => {
                    // When a radio button is changed, remove any highlight from its question block
                    const questionName = radio.name;
                    const questionNumber = questionName.replace('q', '');
                    const questionBlock = document.getElementById(`q${questionNumber}-block`);
                    if (questionBlock) {
                        questionBlock.classList.remove('unanswered-question', 'next-focus-question');
                    }

                    // Attempt to scroll to the next unanswered question and apply subtle highlight
                    findAndScrollToNextUnanswered();
                });
            });

            form.addEventListener('submit', (event) => {
                event.preventDefault(); // Prevent default form submission

                // When submitting, first highlight all unanswered questions in red and scroll to the first one
                const hasUnanswered = highlightAndScrollToUnansweredOnSubmit();

                if (hasUnanswered) {
                    // Display an error message if there are unanswered questions
                    resultsDisplay.classList.remove('hidden', 'bg-blue-50', 'border-blue-400', 'text-blue-700');
                    resultsDisplay.classList.add('bg-red-100', 'border-red-400', 'text-red-700');
                    personalityTypeElement.textContent = "Fout!"; // Error in Afrikaans
                    resultDetailsElement.textContent = "Antwoord asseblief al die gemerkte vrae voordat jy indien."; // Please answer all highlighted questions before submitting.
                    return; // Stop further processing
                }

                // If all questions are answered, hide any previous error message and proceed
                resultsDisplay.classList.add('hidden');

                const answers = {};
                for (let i = 1; i <= 20; i++) {
                    const selectedOption = document.querySelector(`input[name="q${i}"]:checked`);
                    answers[`q${i}`] = selectedOption.value;
                }

                // Initialize scores
                let eCount = 0, iCount = 0;
                let sCount = 0, nCount = 0;
                let tCount = 0, fCount = 0;
                let jCount = 0, pCount = 0;

                // Define the mapping from question number to personality dimension and option
                const questionMapping = {
                    // E/I (Ekstroversie / Introversie): Vrae 1â5
                    1: { A: 'E', B: 'I' },
                    2: { A: 'E', B: 'I' },
                    3: { A: 'E', B: 'I' },
                    4: { A: 'E', B: 'I' },
                    5: { A: 'E', B: 'I' },
                    // S/N (Sensing / iNtuition): Vrae 6â10
                    6: { A: 'S', B: 'N' },
                    7: { A: 'S', B: 'N' },
                    8: { A: 'S', B: 'N' },
                    9: { A: 'S', B: 'N' },
                    10: { A: 'S', B: 'N' },
                    // T/F (Thinking / Feeling): Vrae 11â15
                    11: { A: 'T', B: 'F' },
                    12: { A: 'T', B: 'F' },
                    13: { A: 'T', B: 'F' },
                    14: { A: 'T', B: 'F' },
                    15: { A: 'T', B: 'F' },
                    // J/P (Judging / Perceiving): Vrae 16â20
                    16: { A: 'J', B: 'P' },
                    17: { A: 'J', B: 'P' },
                    18: { A: 'J', B: 'P' },
                    19: { A: 'J', B: 'P' },
                    20: { A: 'J', B: 'P' }
                };

                // Calculate scores based on answers
                for (let i = 1; i <= 20; i++) {
                    const answer = answers[`q${i}`];
                    const dimensionMap = questionMapping[i];

                    if (dimensionMap) {
                        const type = dimensionMap[answer];
                        if (type === 'E') eCount++;
                        else if (type === 'I') iCount++;
                        else if (type === 'S') sCount++;
                        else if (type === 'N') nCount++;
                        else if (type === 'T') tCount++;
                        else if (type === 'F') fCount++;
                        else if (type === 'J') jCount++;
                        else if (type === 'P') pCount++;
                    }
                }

                // Determine personality type
                let typeEI = eCount >= iCount ? 'E' : 'I'; // If counts are equal, default to E
                let typeSN = sCount >= nCount ? 'S' : 'N'; // If counts are equal, default to S
                let typeTF = tCount >= fCount ? 'T' : 'F'; // If counts are equal, default to T
                let typeJP = jCount >= pCount ? 'J' : 'P'; // If counts are equal, default to J

                const finalType = typeEI + typeSN + typeTF + typeJP;

                // Display results
                resultsDisplay.classList.remove('hidden', 'bg-red-100', 'border-red-400', 'text-red-700');
                resultsDisplay.classList.add('bg-blue-50', 'border-blue-400', 'text-blue-700');
                personalityTypeElement.textContent = finalType;
                resultDetailsElement.innerHTML = `
                    <p><strong>E/I (Ekstroversie / Introversie):</strong> ${eCount} Ekstroversie vs. ${iCount} Introversie</p>
                    <p><strong>S/N (Sensing / iNtuition):</strong> ${sCount} Sensing vs. ${nCount} iNtuition</p>
                    <p><strong>T/F (Thinking / Feeling):</strong> ${tCount} Thinking vs. ${fCount} Feeling</p>
                    <p><strong>J/P (Judging / Perceiving):</strong> ${jCount} Judging vs. ${pCount} Perceiving</p>
                    <p class="mt-4">Jou finale tipe is 'n 4-letter kode, wat jou natuurlike gedragsvoorkeure verteenwoordig.</p>
                `;

                // Scroll to results
                resultsDisplay.scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
        });
    </script>
</body>
</html>
